!function(){function e(t,i,n){function o(a,s){if(!i[a]){if(!t[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=i[a]={exports:{}};t[a][0].call(c.exports,function(e){var i=t[a][1][e];return o(i||e)},c,c.exports,e,t,i,n)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}return e}()({1:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e)}return o(e,null,[{key:"banner",value:function(e){console.log("%c"+e.toUpperCase(),"font-size: 30px; background: #222; color: #bada55;")}},{key:"debug",value:function(e){console.trace("%c"+e,"font-size: 15px; background: #222; color: #bada55;")}},{key:"log",value:function(e){console.trace(e)}},{key:"error",value:function(e){console.error(e)}}]),e}();i["default"]=r},{}],2:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e)}return o(e,null,[{key:"open",value:function(e){var t=$("#modal");t.html(e.clone(!0)),t.addClass("open")}},{key:"close",value:function(){var e=$("#modal");e.html(""),e.removeClass("open")}}]),e}();i["default"]=r},{}],3:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./modules"),l=n(s),u=e("./Logger"),c=n(u),d=e("./Utils"),f=n(d),p=e("./Modal"),h=n(p),m=function(){function e(){o(this,e),$(document).foundation({equalizer:{equalize_on_stack:!0}}),this.initializeModules(),this.removeWidows(),this._lastSize=f["default"].calculatePageSize(),$(window).on("resize",this.resize.bind(this)),$(".snapchat-follow").click(function(e){Modernizr.touchevents&&t<800||(e.preventDefault(),$(".snapchat_modal_screen").css("display","block"))});var t=$(window).width();$(".snapchat-link").on("click",function(e){e.preventDefault();var i=$(this).attr("data-attr");$(".snapcode_image").attr("src","https://feelinsonice-hrd.appspot.com/web/deeplink/snapcode?username="+i+"&type=PNG"),$(".snapchat_handle").text("@"+i),Modernizr.touchevents&&t<800||(e.preventDefault(),$(".snapchat_modal_screen").css("display","block"))}),$(".snapchat_close").click(function(e){$(".snapchat_modal_screen").css("display","none")});$.cookie("IeghoD1r");$(".cookie-approval__close").click(function(e){$.cookie("IeghoD1r",1,{path:"/"}),$(".cookie-approval").addClass("cookie-approval--hide")}),this._topNavClick=!0,this.mobileMenu();var i=$("#nav-swiper--movie"),n=$("#nav-swiper--trailer");this._swiperElementMovie=i.find(".swiper-container")[0],this._swiperElementTrailer=n.find(".swiper-container")[0],this.initSwiper(f["default"].calculatePageSize()),$("body").hasClass("preview")&&this.initPreview(),this.insertDilScript(),this.initScrollDownToSignUp(),i.one("mouseenter",function(){i.find("img.lazy").Lazy()}),n.one("mouseenter",function(){n.find("img.lazy").Lazy()})}return a(e,[{key:"initializeModules",value:function(){var e=this,t=$("section[data-module]");this.modules=[],t.each(function(t,i){try{e.modules.push(e.moduleFromElement(i))}catch(n){c["default"].error(n)}})}},{key:"moduleFromElement",value:function(e){e instanceof jQuery||(e=$(e));var t=e.attr("data-module");return l["default"][t]?new l["default"][t](e[0]):new l["default"].BaseModule(e[0])}},{key:"signUpButton",value:function(){h["default"].open($('.modal__content[data-modal="signup"]')),$('.modal__content[data-modal="signup"]').find(".form--email").validate({rules:{email:{required:!0,email:!0}},messages:{email:"Email address is not valid. Please re-enter and try again."}})}},{key:"removeWidows",value:function(){$("h1, h2, h3, h4, h5, h6, .synopsis p, .cast-crew td").not(".executive-bio-details__info h2").each(function(){var e=$(this),t=e.html(),i=e.text().trim(),n=i.lastIndexOf(" ");if(n>-1){var o=i.slice(0,n)+"Â "+i.slice(n+1),r=DOMPurify.sanitize(t.replace(i,o),{ADD_ATTR:["target"]});e.html(r)}})}},{key:"initSwiper",value:function(e){var t=this,i={loop:!0,slidesPerView:2.5,centeredSlides:!1,preloadImages:!0,on:{imagesReady:function(){$(t._swiperElementMovie).addClass("ready")}}};this._swiperMovie&&(this._swiperMovie.destroy(!0,!0),this._swiperMovie=void 0),this._swiperTrailer&&(this._swiperTrailer.destroy(!0,!0),this._swiperTrailer=void 0),"medium"===e||"small"===e?this._initMenuSwipers||($(".toggle-mobile-menu, #nav-swiper--movie").on("click",function(){t._swiperMovie?(t._swiperMovie.destroy(!0,!0),t._swiperMovie=void 0):setTimeout(function(){t._swiperMovie=new Swiper(t._swiperElementMovie,i)},500)}),$("#nav-swiper--trailer").click(function(){t._swiperTrailer=new Swiper(t._swiperElementTrailer,i)}),this._initMenuSwipers=!0):($(".toggle-mobile-menu, #nav-swiper--movie").off("click"),$("#nav-swiper--trailer").off("click"),this._initMenuSwipers=void 0)}},{key:"mobileMenu",value:function(){window.innerWidth<768?(this._isDesktop=!1,this._isPortrait||($(".nav__top-link.has-dropdown > a").click(function(e){e.preventDefault(),$(".nav__top-link").removeClass("active-link"),$(this).parent().addClass("active-link")}),$(".toggle-mobile-menu").on("click",function(){$("#nav-swiper--movie .swiper-container").removeClass("ready"),$("body").toggleClass("mobile-menu-open"),$(".nav--main, .toggle-mobile-menu").toggleClass("open"),$(".nav__top-link").removeClass("active-link"),$(".nav__top-link:first-child").addClass("active-link")}),$("#nav-swiper--movie").find(".nav__secondary-links").find("a").click(function(e){$(".nav--main, .toggle-mobile-menu").removeClass("open"),$(".nav__top-link").removeClass("active-link"),$(".nav__top-link:first-child").addClass("active-link"),$("body").removeClass("mobile-menu-open")}),this._isPortrait=!0)):(this._isPortrait=!1,this._isDesktop||($(".nav__top-link.has-dropdown > a").off("click"),$(".toggle-mobile-menu").off("click"),$(".nav--main, .toggle-mobile-menu").removeClass("open"),$(".nav__top-link").removeClass("active-link"),$(".nav__top-link:first-child").addClass("active-link"),$("body").removeClass("mobile-menu-open"),this._isDesktop=!0))}},{key:"resize",value:function(e){var t=f["default"].calculatePageSize();if(this.mobileMenu(),t!==this._lastSize){var i=!0,n=!1,o=void 0;try{for(var r,a=this.modules[Symbol.iterator]();!(i=(r=a.next()).done);i=!0){var s=r.value;s.resize&&s.resize(t,this._lastSize)}}catch(l){n=!0,o=l}finally{try{!i&&a["return"]&&a["return"]()}finally{if(n)throw o}}this.initSwiper(t),this._lastSize=t}}},{key:"initPreview",value:function(){var e=this,t=e.getQueryParameter("preview",window.location.href);t=DOMPurify.sanitize(t),$("#preview-toolbar-time-input").fdatepicker({pickTime:!0}).on("changeDate",function(i){var n=new Date(i.date),o=n.getTime()/1e3;window.location="/preview/change-time/"+o+("?preview="+e.urlencode(t))}),$("#preview-toolbar-change-time-button").on("click",function(){$("#preview-toolbar-time-input").fdatepicker("show")}),$("a").each(function(){var i=$(this).attr("href");if(void 0!==i){var n=DOMPurify.sanitize(i),o=null!==e.getQueryParameter("preview",n);if(o===!1){var r=n.indexOf("?")!==-1;n+=(r?"&":"?")+("preview="+e.urlencode(t)),$(this).attr("href",n)}}})}},{key:"getQueryParameter",value:function(e,t){e=e.replace(/[\[\]]/g,"\\$&");var i=new RegExp("[?&]"+e+"(=([^&#]*)|&|#|$)","i"),n=i.exec(t);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}},{key:"urlencode",value:function(e){return e=(e+"").toString(),encodeURIComponent(e).replace(/!/g,"%21").replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/\*/g,"%2A").replace(/%20/g,"+")}},{key:"insertDilScript",value:function(){var e=this,t=function(){window.OneTrust.InsertScript("/dil.js","body",function(){e.initAamCode()},{},"13")};if("object"===r(window.OneTrust))t();else var i=setInterval(function(){"object"===r(window.OneTrust)&&(clearInterval(i),t())},250)}},{key:"initAamCode",value:function(){var e=function(){if("function"!=typeof ga)return!1;var e=DIL.create({partner:"uptg",uuidCookie:{name:"aam_uuid",days:30}});return ga(function(){DIL.modules.GA.submitUniversalAnalytics(ga,e)}),console.log("Inited AAM"),!0};if(!e())var t=setInterval(function(){e()&&clearInterval(t)},500)}},{key:"initScrollDownToSignUp",value:function(){if("#sign-up"===location.hash)var e=5,t=0,i=setInterval(function(){var n=$(".form--email");if(0===n.length){if(t++,t===e)return void clearInterval(i)}else clearInterval(i),setTimeout(function(){window.scrollBy({top:n.offset().top-400,left:0,behavior:"smooth"})},3e3)},1e3)}}]),e}();i["default"]=m},{"./Logger":1,"./Modal":2,"./Utils":5,"./modules":6}],4:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(){n(this,e)}return o(e,null,[{key:"sortCardArray",value:function(){var e=$(".card-sort__filter"),t=$(".card-array__wrapper"),i=void 0;e.on("change",function(){i=this.value,t.find(".card-sort").removeClass("end").sort(function(e,t){switch(i){case"newest":return parseInt($(e).data("releasedate"))<parseInt($(t).data("releasedate"));case"oldest":return parseInt($(e).data("releasedate"))>parseInt($(t).data("releasedate"));case"a-z":return $(e).data("title").toLowerCase()>$(t).data("title").toLowerCase();case"z-a":return $(e).data("title").toLowerCase()<$(t).data("title").toLowerCase()}}).appendTo(t).last().addClass("end")})}}]),e}();i["default"]=r},{}],5:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return Array.from(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var a=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),s=e("./Logger"),l=(n(s),function(){function e(){r(this,e)}return a(e,null,[{key:"calculatePageSize",value:function(){return Foundation.utils.is_small_only()?"small":Foundation.utils.is_medium_only()?"medium":Foundation.utils.is_large_only()?"large":Foundation.utils.is_xlarge_only()?"xlarge":Foundation.utils.is_xxlarge_only()?"xxlarge":"unknown"}},{key:"createYoutubePlayer",value:function(e,t){var i=this;return new Promise(function(n,r){var a=void 0;if(i._scriptLoaded)a=new YT.Player(e,t),n(a);else{if(!i._loading){var s=document.createElement("script");s.src="//www.youtube.com/iframe_api",s.defer=!0;var l=document.createElement("script");l.src="//apis.google.com/js/platform.js",l.defer=!0;var u=document.getElementsByTagName("script")[0];u.parentNode.insertBefore(s,u),u.parentNode.insertBefore(l,u),i._loading=!0,self.onYtEvent=function(e){"subscribe"==e.eventType?dataLayer.push({event:"youtube-subscribe-button-click",eventCategory:"youtube-subscribe",eventAction:"click",eventLabel:"subscribe"}):"unsubscribe"==e.eventType&&dataLayer.push({event:"youtube-subscribe-button-click",eventCategory:"youtube-subscribe",eventAction:"click",eventLabel:"unsubscribe"}),window.console&&window.console.log("YT event: ",e)}}var c=function(){a=new YT.Player(e,t),n(a)};i._ytFunctions=i._ytFunctions?[].concat(o(i._ytFunctions),[c]):[c],window.onYouTubeIframeAPIReady=function(){var e=!0,t=!1,i=void 0;try{for(var n,o=this._ytFunctions[Symbol.iterator]();!(e=(n=o.next()).done);e=!0){var r=n.value;r()}}catch(a){t=!0,i=a}finally{try{!e&&o["return"]&&o["return"]()}finally{if(t)throw i}}this._scriptLoaded=!0}.bind(i)}})}},{key:"getQueryParam",value:function(e){if(!/^[a-zA-Z0-9_]+$/.test(e))throw new Error("Invalid query param");var t=new URLSearchParams(window.location.search);return!!t.has(e)&&t.get(e)}},{key:"fadeInImage",value:function(e){return new Promise(function(t,i){e.src&&e.complete?($(e).addClass("loaded"),t(e)):($(e).bind("load",function(){$(e).addClass("loaded"),t(e)}),setTimeout(function(){$(e).addClass("loaded")},3e3),$(e).bind("error",function(e){i(e)}))})}}]),e}());i["default"]=l},{"./Logger":1}],6:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(i,"__esModule",{value:!0});var o=e("./modules/AboutTimeline/AboutTImelineModule.js"),r=n(o),a=e("./modules/BannerAbout/BannerAboutModule.js"),s=n(a),l=e("./modules/BannerHome/BannerHomeModule.js"),u=n(l),c=e("./modules/BannerMovie/BannerMovieModule.js"),d=n(c),f=e("./modules/BannerNews/BannerNewsModule.js"),p=n(f),h=e("./modules/BannerVideo/BannerVideoModule.js"),m=n(h),w=e("./modules/Base/BaseModule.js"),v=n(w),y=e("./modules/CardArray/CardArrayModule.js"),_=n(y),b=e("./modules/CardColumnsSocial/CardColumnsSocialModule.js"),g=n(b),$=e("./modules/CardGridMovies/CardGridMoviesModule.js"),k=n($),M=e("./modules/CardRowArticles/CardRowArticlesModule.js"),j=n(M),P=e("./modules/CardRowMovies/CardRowMoviesModule.js"),O=n(P),C=e("./modules/CardRowNews/CardRowNewsModule.js"),S=n(C),E=e("./modules/CardRowSocial/CardRowSocialModule.js"),B=n(E),x=e("./modules/CardRowVideos/CardRowVideosModule.js"),T=n(x),z=e("./modules/DearEvanHansenCommunity/DearEvanHansenCommunityModule.js"),I=n(z),R=e("./modules/DearEvanHansenSweepstake/DearEvanHansenSweepstakeModule.js"),L=n(R),V=e("./modules/ExecutiveBioDetails/ExecutiveBioDetailsModule.js"),A=n(V),U=e("./modules/GalleryPhotos/GalleryPhotosModule.js"),D=n(U),N=e("./modules/GalleryPosters/GalleryPostersModule.js"),Y=n(N),F=e("./modules/GroupedListRow/GroupedListRowModule.js"),G=n(F),H=e("./modules/MoviePosterTrailerTickets/MoviePosterTrailerTicketsModule.js"),q=n(H),W=e("./modules/MoviePromo/MoviePromoModule.js"),Q=n(W),Z=e("./modules/MovieRetailers/MovieRetailersModule.js"),J=n(Z),K=e("./modules/MovieTicketingModule/MovieTicketingModule.js"),X=n(K),ee=e("./modules/MovieTrailerModule/MovieTicketingModule.js"),te=n(ee),ie=e("./modules/NewsColumnArticle/NewsColumnArticleModule.js"),ne=n(ie),oe=e("./modules/NewsColumnPrimary/NewsColumnPrimaryModule.js"),re=n(oe),ae=e("./modules/NewsColumnSecondary/NewsColumnSecondaryModule.js"),se=n(ae),le=e("./modules/PromoRow/PromoRowModule.js"),ue=n(le),ce=e("./modules/SharePoster/SharePosterModule.js"),de=n(ce),fe=e("./modules/SignupRow/SignupRowModule.js"),pe=n(fe),he=e("./modules/Test/TestModule.js"),me=n(he),we=e("./modules/TrollsWorldTourWatchNow/TrollsWorldTourWatchNowModule.js"),ve=n(we),ye=e("./modules/UniversalMonstersArtProgram/UniversalMonstersArtProgramModule.js"),_e=n(ye);i["default"]={AboutTimelineModule:r["default"],BannerAboutModule:s["default"],BannerHomeModule:u["default"],BannerMovieModule:d["default"],BannerNewsModule:p["default"],BannerVideoModule:m["default"],BaseModule:v["default"],CardArrayModule:_["default"],CardColumnsSocialModule:g["default"],CardGridMoviesModule:k["default"],CardRowArticlesModule:j["default"],CardRowMoviesModule:O["default"],CardRowNewsModule:S["default"],CardRowSocialModule:B["default"],CardRowVideosModule:T["default"],DearEvanHansenCommunityModule:I["default"],DearEvanHansenSweepstakeModule:L["default"],ExecutiveBioDetailsModule:A["default"],GalleryPhotosModule:D["default"],GalleryPostersModule:Y["default"],GroupedListRowModule:G["default"],MoviePosterTrailerTicketsModule:q["default"],MoviePromoModule:Q["default"],MovieRetailersModule:J["default"],MovieTicketingModuleModule:X["default"],MovieTrailerModuleModule:te["default"],NewsColumnArticleModule:ne["default"],NewsColumnPrimaryModule:re["default"],NewsColumnSecondaryModule:se["default"],PromoRowModule:ue["default"],SharePosterModule:de["default"],SignupRowModule:pe["default"],TestModule:me["default"],TrollsWorldTourWatchNowModule:ve["default"],UniversalMonstersArtProgramModule:_e["default"]}},{"./modules/AboutTimeline/AboutTImelineModule.js":7,"./modules/BannerAbout/BannerAboutModule.js":8,"./modules/BannerHome/BannerHomeModule.js":9,"./modules/BannerMovie/BannerMovieModule.js":10,"./modules/BannerNews/BannerNewsModule.js":11,"./modules/BannerVideo/BannerVideoModule.js":12,"./modules/Base/BaseModule.js":13,"./modules/CardArray/CardArrayModule.js":14,"./modules/CardColumnsSocial/CardColumnsSocialModule.js":15,"./modules/CardGridMovies/CardGridMoviesModule.js":16,"./modules/CardRowArticles/CardRowArticlesModule.js":17,"./modules/CardRowMovies/CardRowMoviesModule.js":18,"./modules/CardRowNews/CardRowNewsModule.js":19,"./modules/CardRowSocial/CardRowSocialModule.js":20,"./modules/CardRowVideos/CardRowVideosModule.js":21,"./modules/DearEvanHansenCommunity/DearEvanHansenCommunityModule.js":22,"./modules/DearEvanHansenSweepstake/DearEvanHansenSweepstakeModule.js":23,"./modules/ExecutiveBioDetails/ExecutiveBioDetailsModule.js":24,"./modules/GalleryPhotos/GalleryPhotosModule.js":25,"./modules/GalleryPosters/GalleryPostersModule.js":26,"./modules/GroupedListRow/GroupedListRowModule.js":27,"./modules/MoviePosterTrailerTickets/MoviePosterTrailerTicketsModule.js":28,"./modules/MoviePromo/MoviePromoModule.js":29,"./modules/MovieRetailers/MovieRetailersModule.js":30,"./modules/MovieTicketingModule/MovieTicketingModule.js":31,"./modules/MovieTrailerModule/MovieTicketingModule.js":32,"./modules/NewsColumnArticle/NewsColumnArticleModule.js":33,"./modules/NewsColumnPrimary/NewsColumnPrimaryModule.js":34,"./modules/NewsColumnSecondary/NewsColumnSecondaryModule.js":35,"./modules/PromoRow/PromoRowModule.js":36,"./modules/SharePoster/SharePosterModule.js":37,"./modules/SignupRow/SignupRowModule.js":38,"./modules/Test/TestModule.js":39,"./modules/TrollsWorldTourWatchNow/TrollsWorldTourWatchNowModule.js":40,"./modules/UniversalMonstersArtProgram/UniversalMonstersArtProgramModule.js":41}],7:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._swiperElement=$(i.element).find(".swiper-container")[0],i._slides=$(i.element).find(".swiper-slide").length,i._activeSlide=$(i.element).find(".swiper-slide-active"),i._videoPlayer=$(i.element).find("video")[0],i.initSwiper(d["default"].calculatePageSize()),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){function t(){$(".about-timeline__control").hasClass("about-timeline__control--active")||$(".about-timeline__control").addClass("about-timeline__control--active")}var i=d["default"].getQueryParam("asset_id"),n=9;i!==!1&&(n=$(this.element).find('.swiper-slide[data-asset-id="'+i+'"]').index());var o=this;o._swiperVids=$(this.element).find(".swiper-video");var r={autoheight:!0,duration:5e3,effect:"fade",initialSlide:n,loop:!0,init:!1,navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination")},watchSlidesProgress:!0};this._slides>1&&("small"!==e&&"medium"!==e||(r.effect="slide",r.loop=!1),this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0),this._swiper=new Swiper(this._swiperElement,r),this._swiper.init(),this._swiper.on("slideChangeTransitionStart",function(){t(),$(".timeline__item").hasClass("timeline__item--play")&&$(".timeline__item").removeClass("timeline__item--play"),$(".timeline__item").removeClass("timeline__item--active");var e=$(".swiper-slide-active").attr("data-index"),i=DOMPurify.sanitize(e);$(".timeline__item:eq("+i+")").addClass("timeline__item--active")}),this._swiper.on("slideChangeTransitionEnd",function(){$(".swiper-video").each(function(){$(this)[0].pause(),$(this)[0].currentTime>0&&($(this)[0].currentTime=0)}),$(".video-poster").fadeOut(),this._activeSlideVideo=$(".swiper-slide-active").find(".swiper-video")[0],this._activeSlideVideo.play();var e=$(".swiper-slide-active").attr("data-date"),t=DOMPurify.sanitize(e);$(".video-count").html(t)}),$(".swiper-container").off("click"),$(".swiper-container").on("click",".video-poster",function(){$(this).fadeOut(),t(),$(this).next().children(".swiper-video")[0].play()}),$(".about-timeline__mute").off("click"),$(".about-timeline__mute").on("click",function(){$(".about-timeline__mute .fa").hasClass("fa-volume-up")?($(".about-timeline__mute .fa").removeClass("fa-volume-up").addClass("fa-volume-off"),$(".swiper-video").each(function(){$(this).prop("muted",!0)})):$(".about-timeline__mute .fa").hasClass("fa-volume-off")&&($(".about-timeline__mute .fa").removeClass("fa-volume-off").addClass("fa-volume-up"),$(".swiper-video").each(function(){$(this).prop("muted",!1)}))}),$(".about-timeline__close").off("click"),$(".about-timeline__close").on("click",function(){$(".timeline__item").hasClass("timeline__item--play")||$(".timeline__item:last-child").addClass("timeline__item--play"),$(".about-timeline__control").removeClass("about-timeline__control--active"),$(".video-poster").fadeIn(),$(".swiper-video").each(function(){$(this)[0].pause(),$(this)[0].currentTime>0&&($(this)[0].currentTime=0),$(".timeline__item").removeClass("timeline__item--active"),$(".timeline__item:last-child").addClass("timeline__item--active")});var e=$(".timeline__item:last-child .timeline__date").html(),t=DOMPurify.sanitize(e);$(".video-count").html(t),o._swiper.slideTo(10,500,!1)}),$(".about-timeline").off("click"),$(".about-timeline").on("click",".timeline__item",function(){o._swiper.slideTo($(this).index()+1,500)}),$(".swiper-video").off("click"),$(".swiper-video").on("ended",function(){$(".swiper-button-prev").trigger("click")}),$(".timeline__item:last-child").off("click").on("click",function(e){$(".video-poster").fadeOut(),t(),$(".timeline__item").hasClass("timeline__item--play")&&$(".timeline__item").removeClass("timeline__item--play"),$('.swiper-slide[data-index="9"]:not(.swiper-slide-duplicate) .swiper-video')[0].play()}))}},{key:"resize",value:function(e){this.initSwiper(e),this._swiper.onResize()}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],8:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=e("../../Utils.js"),c=n(u),d=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c["default"].fadeInImage($(i.element).find(".banner--about__image")),i}return a(t,e),t}(l["default"]);i["default"]=d},{"../../Utils.js":5,"../Base/BaseModule":13}],9:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function m(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,i)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(i)},u=e("../Base/BaseModule"),c=n(u),d=e("../../Utils.js"),f=n(d),p=e("../../Logger.js"),h=(n(p),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.imagesLoaded=!1,$("#main-stage-inner").css("height","auto"),i._swiperElement=$(i.element).find("#main-stage__nav")[0],i.initSwiper(f["default"].calculatePageSize()),i.initPager(),i.initMobileSwiper(),f["default"].createYoutubePlayer($(i.element).find(".yt-player")[0],{height:"100%",width:"100%",playerVars:{autoplay:1,controls:1,rel:0,modestbranding:1},events:{}}).then(function(e){i._player=e,$(i.element).find("button[data-video-id]").on("click",function(e){e.preventDefault();var t=$(e.target).closest("button").data("video-id"),n=$(e.target).closest("button").data("video-title"),o=$(e.target).offset(),r=o.top-$(window).scrollTop(),a=o.left;i.openVideoModal(t,r,a,n)})}),$("#main-stage").find("img.lazy").Lazy({effect:"fadeIn",visibleOnly:!0}),i}return a(t,e),s(t,[{key:"resizeModal",value:function(){var e=1.77777777777778,t=$(window).width()/$(window).height();e>t?$(this.element).find(".modal__video").css({width:"80%","margin-left":"10%","margin-top":($(window).height()-.8*$(window).width()*.5625)/2}):$(this.element).find(".modal__video").css({width:1.4*$(window).height(),"margin-left":($(window).width()-1.4*$(window).height())/2,"margin-top":($(window).height()-1.4*$(window).height()*.5625)/2})}},{key:"openVideoModal",value:function(e,t,i,n){this.stopCarousel(),this._player.clearVideo(),this._player.loadVideoById(e,0,"default"),$("body").trigger("open-modal"),$(this.element).find(".btn--facebook, .btn--twitter").data("video-id",e).data("video-title",n),$(this.element).find(".btn--facebook").on("click",function(){FB.ui({method:"share",href:"https://www.youtube.com/embed/"+$(this).data("video-id")},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:$(this).data("video-title"),movieId:$(this).data("video-id")})})}),$(this.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("video-title")+" https://youtu.be/"+$(this).data("video-id")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),$(this.element).find(".modal__video").css({width:$(this.element).find("button").width(),"margin-left":i,"margin-top":t}),this.lastElTop=t,this.lastElLeft=i,this.openModal(),this.resizeModal(),$(window).bind("resize.videoModalResize",this.resizeModal.bind(this))}},{key:"closeModal",value:function(){this._player.stopVideo(),this._player.clearVideo(),$(window).unbind("resize.videoModalResize"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"closeModal",this).call(this)}},{key:"automateCarousel",value:function(e){if("medium"!==e&&"small"!==e){var t=$(this.element).find(".swiper-slide.active").index(),i=$(this.element).find(".swiper-slide"),n=$(this.element).find(".banner__img"),o=0;t+1<i.length?t+=1:(t=0,o=0),i.removeClass("active").eq(t).addClass("active"),n.removeClass("active").eq(t).addClass("active")}}},{key:"initAutomateCarousel",value:function(e){}},{key:"initSlideButtons",value:function(){var e=this,t=$(this._swiperElement).find(".button"),i=$(this.element).find(".banner__img"),n=$(this._swiperElement).find("li");$(t).on("click",function(t){var o=$(t.target).closest("li").index();$(i).removeClass("active").eq(o).addClass("active"),$(n).removeClass("active").eq(o).addClass("active"),e.stopCarousel()})}},{key:"stopCarousel",value:function(){clearInterval(this._automateCarouselInterval)}},{key:"initSwiper",value:function(e){var t={loop:!1,slidesPerView:"auto",slidesOffsetBefore:0,preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0};$(this.element).find(".banner-nav").removeClass("swiper-wrapper"),"medium"===e||"small"===e?($(this.element).find(".banner-nav").addClass("swiper-wrapper"),this._scrollBarInit&&($(this._swiperElement).mCustomScrollbar("destroy"),this._scrollBarInit=!1),this._swiper||($(this.element).find(".banner__img, .swiper-slide").removeClass("active"),$(this.element).find(".banner__img:first-child, .swiper-slide:first-child").addClass("active"),this._swiper=new Swiper(this._swiperElement,t))):(this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0,$(this.element).find(".banner__img, .swiper-slide").removeClass("active"),$(this.element).find(".banner__img:first-child, .swiper-slide:first-child").addClass("active")),this._scrollBarInit||($(this._swiperElement).mCustomScrollbar(),this._scrollBarInit=!0))}},{key:"resize",value:function(e){this.initSwiper(e)}},{key:"initPager",value:function(){var e=this;$(e.element).find(".pager").on("click",function(){var t=$(this),i=t.hasClass("pager--right"),n=$(e.element).find(".main-stage__img .banner__img.active").index(),o=$(e.element).find(".main-stage__img .banner__img");i?n+1<o.length?n++:n=0:0===n?n=o.length-1:n--,o.removeClass("active").eq(n).addClass("active"),$(e.element).find(".banner__img").removeClass("active").eq(n).addClass("active")})}},{key:"initMobileSwiper",value:function(){var e={preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0};new Swiper(".main-stage-mobile-swiper-container",e)}}]),t}(c["default"]));i["default"]=h},{"../../Logger.js":1,"../../Utils.js":5,"../Base/BaseModule":13
}],10:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function h(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,i)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(i)},u=e("../Base/BaseModule"),c=n(u),d=e("../../Utils.js"),f=n(d),p=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._didShowVideo=!1,i._videoElement=$(i.element).find("video"),i._hasVideo=i._videoElement.length,i._hasVideo?(i._video=i._videoElement[0],$(i._video).on("playing",function(){i._didShowVideo===!1&&($(i._video).removeClass("hidden"),i._didShowVideo=!0)}),i._video.addEventListener("ended",function(){this.currentTime=0,this.play()},!1),i.initVideo(f["default"].calculatePageSize())):$(".main-content").addClass("no-video"),f["default"].createYoutubePlayer($(i.element).find(".yt-player")[0],{height:"100%",width:"100%",playerVars:{autoplay:1,controls:1,rel:0,modestbranding:1},events:{}}).then(function(e){i._player=e,$(i.element).find("button[data-video-id]").on("click",function(e){var t=$(e.target).closest("button").data("video-id");i.openVideoModal(t)})}),$(i.element).find(".banner--movie__image.lazy").Lazy({onFinishedAll:function(){f["default"].fadeInImage($(i.element).find(".banner--movie__image"))}}),i}return a(t,e),s(t,[{key:"resizeModal",value:function(){var e=1.77777777777778,t=$(window).width()/$(window).height();e>t?$(this.element).find(".modal__video").css({width:"80%","margin-left":"10%","margin-top":($(window).height()-.8*$(window).width()*.5625)/2}):$(this.element).find(".modal__video").css({width:1.4*$(window).height(),"margin-left":($(window).width()-1.4*$(window).height())/2,"margin-top":($(window).height()-1.4*$(window).height()*.5625)/2})}},{key:"openVideoModal",value:function(e){this._player.clearVideo(),this._player.loadVideoById(e,0,"default"),this.openModal(),this.resizeModal(),$(window).bind("resize.videoModalResize",this.resizeModal.bind(this))}},{key:"closeModal",value:function(){this._player.stopVideo(),this._player.clearVideo(),$(window).unbind("resize.videoModalResize"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"closeModal",this).call(this)}},{key:"initVideo",value:function(e){var t=this;if("small"!==e&&this._video.paused){var i=this._video.play();void 0!==i&&i.then(function(e){})["catch"](function(e){$(t.element).addClass("no-video"),$(".main-content").addClass("no-video"),t._hasVideo=!1})}else"small"!==e||this._video.paused||(this._video.pause(),$(this._video).addClass("hidden"))}},{key:"resize",value:function(e){this._hasVideo&&this.initVideo(e)}}]),t}(c["default"]);i["default"]=p},{"../../Utils.js":5,"../Base/BaseModule":13}],11:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=e("../../Utils.js"),c=n(u),d=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c["default"].fadeInImage($(i.element).find(".banner--news__image")),i}return a(t,e),t}(l["default"]);i["default"]=d},{"../../Utils.js":5,"../Base/BaseModule":13}],12:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));$(i.element).find(".btn--facebook").on("click",function(){var e=($(this).data("asset-link"),$(this).data("movie-name")),t=$(this).data("movie-id");FB.ui({method:"share",href:$(this).data("asset-link")},function(i){i&&!i.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:e,movieId:t})})}),$(i.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")});var n=$(i.element).find(".yt-player");d["default"].createYoutubePlayer(n[0],{height:"100%",width:"100%",videoId:n.data("video-id"),playerVars:{controls:1,rel:0,modestbranding:1},events:{}}).then(function(e){i._player=e});d["default"].calculatePageSize();return i.checkShowViewMoreButton(),i}return a(t,e),s(t,[{key:"checkShowViewMoreButton",value:function(){var e=170,t=$(".banner--video").find(".view-more-button-row");if(0!==t.length){var i=$(".video__info").children(".synopsis"),n=i.children("p"),o=n.height();o>e&&t.addClass("show")}}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],13:[function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(i,"__esModule",{value:!0});var o=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),r=function(){function e(t){n(this,e),this.element=t,$(this.element).find(".modal").on("click",this.closeModal.bind(this))}return o(e,[{key:"openModal",value:function(){var e=$(this.element).find(".modal");e.addClass("open")}},{key:"closeModal",value:function(){var e=$(this.element).find(".modal");e.removeClass("open")}},{key:"element",set:function(e){if(!e||!e.nodeType)throw"Element "+e+" is not a valid module element";this._element=e},get:function(){return this._element}}]),e}();i["default"]=r},{}],14:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function _(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:_(o,t,i)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(i)},u=e("../Base/BaseModule"),c=n(u),d=e("../../Utils.js"),f=n(d),p=e("../../Logger.js"),h=n(p),m=e("../../Modal.js"),w=(n(m),e("../../Sort.js")),v=n(w),y=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._swiper=null,i.lazyLoadImages(),"videos"===$(i.element).data("type")&&(f["default"].createYoutubePlayer($(i.element).find(".modal .yt-player")[0],{height:"100%",width:"100%",playerVars:{autoplay:1,controls:1,rel:0,modestbranding:1},events:{}}).then(function(e){i._player=e,$(i.element).find(".card").on("click",function(e){if("small"!==f["default"].calculatePageSize()){var t=$(e.target).closest(".card").data("video-id"),n=$(e.target).closest(".card").data("video-title"),o=$(e.target).offset(),r=o.top-$(window).scrollTop(),a=o.left;i.openVideoModal(t,r,a,n)}})}),i._swiperElement=$(i.element).find(".swiper-container ")[0],i._slides=$(i.element).find(".swiper-slide").length,i.initSwiper(f["default"].calculatePageSize())),v["default"].sortCardArray(),i}return a(t,e),s(t,[{key:"lazyLoadImages",value:function(){$(this.element).find("img.lazy").Lazy({effect:"fadeIn",threshold:4e3})}},{key:"initSwiper",value:function(e){var t={loop:!0,init:!1,centeredSlides:!0,slidesPerView:1.2,slidesPerGroup:1,navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},on:{slideChange:this.onSlideChangeEnd.bind(this),slideChangeTransitionStart:this.pauseSwiperYtPlayer.bind(this)},watchSlidesProgress:!0};this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0),this._slides>1?"small"!==e||this._swiper||(this._swiper=new Swiper(this._swiperElement,t),this._swiper.init(),$(this.element).find("img.lazy").Lazy({threshold:600})):this.initSingleYtPlayer(f["default"].calculatePageSize())}},{key:"onSlideChangeEnd",value:function(){this.initSwiperYtPlayer(this._swiper);var e=void 0;e=0===this._swiper.activeIndex?this._slides:this._swiper.activeIndex===this._slides+1?1:this._swiper.activeIndex,$(this.element).find(".swiper-pagination").text(e+" of "+this._slides)}},{key:"initSingleYtPlayer",value:function(e){var t=this,i=$(this.element).find(".yt-player")[0],n=$(this.element).find(".card").data("video-id");this.hasPlayer||(this.hasPlayer=!0,f["default"].createYoutubePlayer(i,{height:"100%",width:"100%",videoId:n,playerVars:{autoplay:0,controls:1,rel:0,modestbranding:1}}).then(function(){$(t.element).find(".yt-player").css("z-index",999)}))}},{key:"initSwiperYtPlayer",value:function(e){var t=e.slides[e.activeIndex],i=$(t).find(".yt-player")[0],n=$(t).find(".card").data("video-id");t._hasPlayer||(t._hasPlayer=!0,f["default"].createYoutubePlayer(i,{height:"100%",width:"100%",videoId:n,playerVars:{autoplay:0,controls:1,rel:0,modestbranding:1}}).then(function(e){$(t).find(".yt-player").css("z-index",999),t._player=e}))}},{key:"pauseSwiperYtPlayer",value:function(){for(var e=0;e<this._swiper.slides.length;e++)this._swiper.slides[e]._player&&this._swiper.slides[e]._player.stopVideo()}},{key:"resizeModal",value:function(){var e=1.77777777777778,t=$(window).width()/$(window).height();h["default"].debug("RESIZE"),e>t?$(this.element).find(".modal__video").css({width:"80%","margin-left":"10%","margin-top":($(window).height()-.8*$(window).width()*.5625)/2}):$(this.element).find(".modal__video").css({width:1.4*$(window).height(),"margin-left":($(window).width()-1.4*$(window).height())/2,"margin-top":($(window).height()-1.4*$(window).height()*.5625)/2})}},{key:"openVideoModal",value:function(e,t,i,n){return this._player&&"function"==typeof this._player.clearVideo?(this._player.clearVideo(),this._player.loadVideoById(e,0,"default"),$("body").trigger("open-modal"),$(this.element).find(".btn--facebook, .btn--twitter").data("video-id",e).data("video-title",n),$(this.element).find(".btn--facebook").on("click",function(){FB.ui({method:"share",href:"https://www.youtube.com/embed/"+$(this).data("video-id")},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:$(this).data("video-title"),movieId:$(this).data("video-id")})})}),$(this.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("video-title")+" https://youtu.be/"+$(this).data("video-id")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),$(this.element).find(".modal__video").css({width:$(this.element).find(".card").width(),"margin-left":i,"margin-top":t}),this.lastElTop=t,this.lastElLeft=i,this.openModal(),this.resizeModal(),void $(window).on("resize.videoModalResize",this.resizeModal.bind(this))):void console.warn("No player when opening video modal")}},{key:"closeModal",value:function(){var e=this;this._player&&"function"==typeof this._player.stopVideo&&(this._player.stopVideo(),this._player.clearVideo()),$(window).off("resize.videoModalResize"),$(this.element).find(".modal").addClass("close"),$(this.element).find(".modal__video").css({width:$(this.element).find(".card").width(),"margin-left":this.lastElLeft,"margin-top":this.lastElTop}),$(this.element).find(".modal").on("animationend.modal webkitAnimationEnd.modal oAnimationEnd.modal",function(){$(e.element).find(".modal").removeClass("close"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"closeModal",e).call(e),$(e.element).find(".modal").off(".modal")})}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(c["default"]);i["default"]=y},{"../../Logger.js":1,"../../Modal.js":2,"../../Sort.js":4,"../../Utils.js":5,"../Base/BaseModule":13}],15:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.masonryCards(d["default"].calculatePageSize()),$(i.element).find(".show-more-social").click(function(){i.showMoreSocial(d["default"].calculatePageSize())}),$(".social-group").length===$(".social-group.show").length&&$(".more-btn-row").hide(),i}return a(t,e),s(t,[{key:"masonryCards",value:function(e){var t=this;if("small"!==e)if(this.masonryInitialized)this._grid=$(".card-columns").masonry({itemSelector:".card--social",columnWidth:".grid-sizer",gutter:".gutter-sizer",percentPosition:!0,isInitLayout:!1}),this._grid.masonry(),this.masonryInitialized=!0;else{var i;!function(){var e=$(t.element).find(".social-post-link img"),n=[];for(i=0;i<e.length;i++)e[i].src||(e[i].src=e[i].dataset.src,n.push(new Promise(function(t,n){e[i].onload=t})));Promise.all(n).then(function(){t._grid=$(".card-columns").masonry({itemSelector:".card--social",columnWidth:".grid-sizer",gutter:".gutter-sizer",percentPosition:!0,isInitLayout:!1,transitionDuration:0}),t._grid.masonry("on","layoutComplete",function(){$(".social-group.show").css("opacity",1)}),t._grid.masonry(),$(".card-columns img").on("load",function(){$(t).fadeIn(250)}).each(function(){this.complete&&$(this).load()}),t.masonryInitialized=!0})}()}else this.masonryInitialized&&this._grid.masonry("destroy"),this.masonryInitialized=!0,$(this.element).find(".social-post-link img").Lazy(),$(".social-group.show").css("opacity",1)}},{key:"showMoreSocial",value:function(e){if($(".social-group").length>$(".social-group.show").length){$(".social-group.show").next().addClass("show");var t=parseInt($(".card-wrapper").css("max-height"))+6e3+"px";$(".card-wrapper").css("max-height",t),"small"!=e&&this._grid.masonry(),$(".social-group.show").css("opacity",1),$(".social-group").length===$(".social-group.show").length&&$(".more-btn-row").hide()}}},{key:"resize",value:function(e){this.masonryCards(d["default"].calculatePageSize())}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],16:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.lazyLoadImages(),i}return a(t,e),s(t,[{key:"lazyLoadImages",value:function(){$(this.element).find("img.lazy").Lazy({effect:"fadeIn",threshold:500})}}]),t}(u["default"]);i["default"]=c},{"../Base/BaseModule":13}],17:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._swiperElement=$(i.element).find(".swiper-container > div"),i.initSwiper(d["default"].calculatePageSize()),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){var t={loop:!0,navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},slidesPerView:1.2,centeredSlides:!0,pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination"),renderBullet:function(){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}}};if("medium"===e||"small"===e){switch(e){case"medium":t.slidesPerView=2,t.centeredSlides=!1;break;case"small":t.slidesPerView=1.2,t.centeredSlides=!0}this._swiper&&this._swiper.destroy(!0,!0),this._swiper=new Swiper(this._swiperElement,t)}else this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0)}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],18:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._noSwiperLarge=$(i.element).hasClass("no-swiper-large"),i.lazyLoadImages(),i._swiperElement=$(i.element).find(".swiper-container ")[0],i._slides=$(i.element).find(".swiper-slide").length,i._moduleCount=$(".card-row--movies").length,i._slidesPerView=$(i.element).data("slides-per-view"),i.initSwiper(d["default"].calculatePageSize()),i}return a(t,e),s(t,[{key:"lazyLoadImages",value:function(){$(this.element).find(".lazy").Lazy({effect:"fadeIn",threshold:500})}},{key:"initSwiper",value:function(e){var t=this,i={loop:!0,slidesPerView:this._slidesPerView||3,slidesPerGroup:this._slidesPerView||3,init:!1,navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination"),renderBullet:function(e){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},centeredSlides:!1,on:{imagesReady:function(){$(t.element).css({opacity:1})}}};if(this._slides>1){switch(e){case"medium":i.slidesPerView=2,i.slidesPerGroup=2,i.on.slideChange=this.onSlideChangeEnd.bind(this),i.spaceBetween=0;break;case"small":i.slidesPerView=1.5,i.slidesPerGroup=1,i.centeredSlides=!0,i.on.slideChange=this.onPaginationCount.bind(this),i.pagination={},i.spaceBetween=30}this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0),1===this._moduleCount&&$(this.element).addClass("kill-swiper--medium"),("small"===e||"medium"===e&&this._slides>2&&1!==this._moduleCount||"medium"!=e&&!this._noSwiperLarge)&&(this._swiper=new Swiper(this._swiperElement,i),this._swiper.init(),$(this.element).find("img.lazy").Lazy({threshold:600}))}else this._swiper&&this._swiper.destroy(!0,!0),this._swiper=void 0}},{key:"onSlideChangeEnd",value:function(){$(this.element).find("img.lazy").Lazy()}},{key:"onPaginationCount",value:function(){var e=void 0;e=0===this._swiper.activeIndex?this._slides:this._swiper.activeIndex===this._slides+1?1:this._swiper.activeIndex,$(this.element).find(".swiper-pagination").text(e+" of "+this._slides),$(this.element).find("img.lazy").Lazy()}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],19:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=e("../../Utils.js"),c=(n(u),function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),t}(l["default"]));i["default"]=c},{"../../Utils.js":5,"../Base/BaseModule":13}],20:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=e("../../Logger.js"),p=(n(f),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $(".social-post--twitter").length>0&&(i.cropLargeImages(),$(window).bind("resize.cropLargeImages",i.cropLargeImages.bind(i))),i._swiperElement=$(i.element).find(".swiper-container")[0],i._slides=$(i.element).find(".swiper-slide").length,i.initSwiper(d["default"].calculatePageSize()),i}return a(t,e),s(t,[{key:"cropLargeImages",value:function(){var e=this,t=$(this.element).find(".social-post-link").find("img"),i=void 0,n=[];if(void 0===this.imagesLoaded){for(var o=function(e){var o=t[e],r=$("<img />");r.attr("src",$(t[e]).attr("src")),r.unbind("load"),n.push(new Promise(function(e,t){r.bind("load",function(){i=$(o).height()/$(o).width(),e(i)})}))},r=0;r<t.length;r++)o(r);Promise.all(n).then(function(i){e.originalRatios=[];for(var n=0;n<i.length;n++)e.originalRatios.push(i[n]),i[n]>1.583&&$(t[n]).parent().css("height",$(t[n]).width())}),this.imagesLoaded=!0}else if(this.originalRatios)for(var r=0;r<this.originalRatios.length;r++)this.originalRatios[r]>1.583&&$(t[r]).parent().css("height",$(t[r]).width())}},{key:"initSwiper",value:function(e){$(this.element).css({opacity:1});var t={loop:!0,slidesPerView:4,init:!1,navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},centeredSlides:!1,pagination:{el:$(this.element).find(".swiper-pagination"),clickable:!0,renderBullet:function(e){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},on:{}};switch(e){case"medium":t.slidesPerView=2;break;case"small":t.slidesPerView=1.3,t.on.slideChangeTransitionEnd=this.onSlideChangeEnd.bind(this),t.pagination={}}this._swiper&&this._swiper.destroy(!0,!0),this._swiper=new Swiper(this._swiperElement,t),this._swiper.init()}},{key:"onSlideChangeEnd",value:function(){var e=void 0;e=0===this._swiper.activeIndex?this._slides:this._swiper.activeIndex===this._slides+1?1:this._swiper.activeIndex,$(this.element).find(".swiper-pagination").text(e+" of "+this._slides)}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(u["default"]));i["default"]=p},{"../../Logger.js":1,"../../Utils.js":5,"../Base/BaseModule":13}],21:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function m(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:m(o,t,i)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(i)},u=e("../Base/BaseModule"),c=n(u),d=e("../../Utils.js"),f=n(d),p=e("../../Logger.js"),h=(n(p),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i._swiper=null,i._noSwiperLarge=$(i.element).hasClass("no-swiper-large"),i._swiperElement=$(i.element).find(".swiper-container ")[0],i._slides=$(i.element).find(".swiper-slide").length,i._slidesPerView=$(i.element).data("slides-per-view"),i.clickType=$(i.element).data("click-type")||"full";var n=f["default"].calculatePageSize();return i.initSwiper(n),f["default"].createYoutubePlayer($(i.element).find(".modal .yt-player")[0],{height:"100%",width:"100%",playerVars:{autoplay:1,controls:1,rel:0,modestbranding:1},events:{}}).then(function(e){i._player=e;var t=void 0;switch(i.clickType){case"full":t=$(i.element).find(".card");break;case"play-button":t=$(i.element).find(".play-button")}t?t.on("click",function(e){e.preventDefault();var t=f["default"].calculatePageSize();switch(t){case"small":i.initSwiperYtPlayer(i._swiper,!0,!0,!0);break;default:var n=$(e.target).closest(".card").data("video-id"),o=$(e.target).closest(".card").data("video-title"),r=$(e.target).offset(),a=r.top-$(window).scrollTop(),s=r.left;i.openVideoModal(n,a,s,o)}}):console.warn("Could not find click element",t)}),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){var t={loop:this._noSwiperLarge,slidesPerView:this._slidesPerView||4,slidesPerGroup:this._slidesPerView||4,
init:!1,pagination:{clickable:!0,renderBullet:function(){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},centeredSlides:!1,on:{init:this.onAfterInit.bind(this),slideChangeTransitionEnd:this.initSwiperLazyload.bind(this)},lazy:{loadPrevNext:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0};if(this._slides>1){switch(e){case"medium":t.loop=this._noSwiperLarge,t.slidesPerView=2,t.slidesPerGroup=2,t.pagination=$(this.element).find(".swiper-pagination");break;case"small":t.loop=!0,t.slidesPerView=1.3,t.slidesPerGroup=1,t.centeredSlides=!0,t.runCallbacksOnInit=!1,t.on.slideChange=this.onSlideChangeEnd.bind(this),t.on.slideChangeTransitionStart=this.pauseSwiperYtPlayer.bind(this)}this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0),"small"===e||"medium"===e&&this._slides>2||"medium"!=e&&!this._noSwiperLarge?(this._swiper=new Swiper(this._swiperElement,t),this._swiper.init()):$(this.element).find(".lazy").Lazy()}else $(this.element).find(".lazy").Lazy(),this.initSingleYtPlayer()}},{key:"onSlideChangeEnd",value:function(){this.initSwiperYtPlayer(this._swiper);var e=void 0;e=0===this._swiper.activeIndex?this._slides:this._swiper.activeIndex===this._slides+1?1:this._swiper.activeIndex,$(this.element).find(".swiper-pagination").text(e+" of "+this._slides)}},{key:"onAfterInit",value:function(){$(this.element).find(".swiper-pagination").text("1 of "+this._slides)}},{key:"initSwiperLazyload",value:function(){if(this._swiper){var e=f["default"].calculatePageSize();if("small"===e){var t=this._swiper.slides[this._swiper.previousIndex];t&&$(t).find(".yt-player").removeClass("show")}}$(this.element).find("img.lazy").Lazy()}},{key:"initSingleYtPlayer",value:function(){var e=this,t=$(this.element).find(".yt-player")[0],i=$(this.element).find(".card").data("video-id");this.hasPlayer||(this.hasPlayer=!0,f["default"].createYoutubePlayer(t,{height:"100%",width:"100%",videoId:i,playerVars:{autoplay:0,controls:1,rel:0,modestbranding:1}}).then(function(){$(e.element).find(".yt-player").css("z-index",999)}))}},{key:"initSwiperYtPlayer",value:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=e.slides[e.activeIndex],r=$(o).find(".yt-player")[0],a=$(o).find(".card").data("video-id");if(o._hasPlayer?n&&"function"==typeof o._player.playVideo&&o._player.playVideo():(o._hasPlayer=!0,f["default"].createYoutubePlayer(r,{height:"100%",width:"100%",videoId:a,playerVars:{autoplay:i===!0?1:0,controls:1,rel:0,modestbranding:1,mute:0}}).then(function(e){if(i)var t=setInterval(function(){var i=e&&"function"==typeof e.getPlayerState&&5===e.getPlayerState();i&&(clearInterval(t),o._player.playVideo())},250);$(o).find(".yt-player").css("z-index",999),o._player=e})),n&&t){var s=$(o).find(".yt-player");s&&s.addClass("show")}}},{key:"pauseSwiperYtPlayer",value:function(){for(var e=0;e<this._swiper.slides.length;e++)this._swiper.slides[e]._player&&"function"==typeof this._swiper.slides[e]._player.stopVideo&&this._swiper.slides[e]._player.stopVideo()}},{key:"resizeModal",value:function(){var e=1.77777777777778,t=$(window).width()/$(window).height();e>t?$(this.element).find(".modal__video").css({width:"80%","margin-left":"10%","margin-top":($(window).height()-.8*$(window).width()*.5625)/2}):$(this.element).find(".modal__video").css({width:1.4*$(window).height(),"margin-left":($(window).width()-1.4*$(window).height())/2,"margin-top":($(window).height()-1.4*$(window).height()*.5625)/2})}},{key:"openVideoModal",value:function(e,t,i,n){return this._player&&"function"==typeof this._player.clearVideo?(this._player.clearVideo(),this._player.loadVideoById(e,0,"default"),$("body").trigger("open-modal"),$(this.element).find(".btn--facebook, .btn--twitter").data("video-id",e).data("video-title",n),$(this.element).find(".btn--facebook").on("click",function(){FB.ui({method:"share",href:"https://www.youtube.com/embed/"+$(this).data("video-id")},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:$(this).data("video-title"),movieId:$(this).data("video-id")})})}),$(this.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("video-title")+" https://youtu.be/"+$(this).data("video-id")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),$(this.element).find(".modal__video").css({width:$(this.element).find(".card").width(),"margin-left":i,"margin-top":t}),this.lastElTop=t,this.lastElLeft=i,this.openModal(),this.resizeModal(),void $(window).on("resize.videoModalResize",this.resizeModal.bind(this))):void console.warn("No player when opening video modal")}},{key:"closeModal",value:function(){var e=this;this._player&&"function"==typeof this._player.stopVideo&&(this._player.stopVideo(),this._player.clearVideo()),$(window).off("resize.videoModalResize"),$(this.element).find(".modal").addClass("close"),$(this.element).find(".modal__video").css({width:$(this.element).find(".card").width(),"margin-left":this.lastElLeft,"margin-top":this.lastElTop}),$(this.element).find(".modal").on("animationend.modal webkitAnimationEnd.modal oAnimationEnd.modal",function(){$(e.element).find(".modal").removeClass("close"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"closeModal",e).call(e),$(e.element).find(".modal").off(".modal")})}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(c["default"]));i["default"]=h},{"../../Logger.js":1,"../../Utils.js":5,"../Base/BaseModule":13}],22:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=e("../../Utils.js"),c=(n(u),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $(document).ready(function(){$(".hamburger").click(function(){$(this).toggleClass("is-active"),$(".custom-nav").toggleClass("unlock"),$(".nav-list-mobile").toggleClass("open"),$("body").toggleClass("no-scroll")}),$(".mobile-nav-link").click(function(){$(".hamburger").toggleClass("is-active"),$(".custom-nav").toggleClass("unlock"),$(".nav-list-mobile").toggleClass("open"),$("body").toggleClass("no-scroll")})}),i}return a(t,e),t}(l["default"]));i["default"]=c},{"../../Utils.js":5,"../Base/BaseModule":13}],23:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=i;return i.isSubmitting=!1,i.testThankYouMessage=!1,i.$formContainer=null,i.$thankYouMessageContainer=null,i.$form=null,i.$sweeptakeInput=null,i.$firstNameInput=null,i.$lastNameInput=null,i.$emailInput=null,i.$verifyAgeCheckbox=null,i.$agreeTermsCheckbox=null,i.$agreeMarketingCheckbox=null,i.$submitButton=null,$(function(){n.initForm()}),i}return a(t,e),s(t,[{key:"initForm",value:function(){var e=this,t=this;this.$formContainer=$(".form-container"),this.$thankYouMessageContainer=$(".thank-you-message-container"),this.$form=this.$formContainer.find("form"),this.$sweeptakeInput=this.$form.find('[name="sweepstake"]'),this.$firstNameInput=this.$form.find('[name="first_name"]'),this.$lastNameInput=this.$form.find('[name="last_name"]'),this.$emailInput=this.$form.find('[name="email"]'),this.$verifyAgeCheckbox=this.$form.find('[name="verify_age"]'),this.$agreeTermsCheckbox=this.$form.find('[name="agree_terms"]'),this.$agreeMarketingCheckbox=this.$form.find('[name="agree_marketing"]'),this.$submitButton=this.$form.find('[type="submit"]'),this.testThankYouMessage&&this.showThankYouMessage(),this.$form.find(".input-text").on("click",function(){var e=$(this).parent(".form-group");e.addClass("move-up")});var i=function(e){var t=e.parent(".form-group");e.val()?t.addClass("move-up"):t.removeClass("move-up")};this.$form.find(".input-text").on("focus",function(){var e=$(this).parent(".form-group");e.addClass("move-up")}),this.$form.find(".input-text").on("blur",function(){i($(this))}),this.$form.find(".input-text").on("keyup",function(e){"Tab"!==e.key&&i($(this))}),this.$firstNameInput.add(this.$lastNameInput).add(this.$emailInput).on("input",function(){t.validateForm()}),this.$verifyAgeCheckbox.add(this.$agreeTermsCheckbox).add(this.$agreeMarketingCheckbox).on("change",function(){t.validateForm()}),this.$form.on("submit",function(){return e.isSubmitting=!0,e.$submitButton.attr("disabled",!0),$.ajax({type:"POST",url:"/deh-madhappy-sweepstakes/submit",data:{sweepstake:e.$sweeptakeInput.val(),first_name:e.$firstNameInput.val(),last_name:e.$lastNameInput.val(),email:e.$emailInput.val()}}).done(function(e){"success"===e.status?t.showThankYouMessage():alert("Something went wrong, please try again later.")}).fail(function(){alert("Something went wrong, please try again later.")}).always(function(){e.$submitButton.attr("disabled",!1),e.isSubmitting=!1}),!1})}},{key:"validateForm",value:function(){var e=!1;return this.$firstNameInput.val()||(e=!0),this.$lastNameInput.val()||(e=!0),this.$emailInput.val()||(e=!0),this.$verifyAgeCheckbox.is(":checked")||(e=!0),this.$agreeTermsCheckbox.is(":checked")||(e=!0),this.$agreeMarketingCheckbox.is(":checked")||(e=!0),e?this.$submitButton.attr("disabled","disabled"):this.$submitButton.removeAttr("disabled"),!e}},{key:"showThankYouMessage",value:function(){var e=this,t=200;this.$formContainer.fadeOut(t,function(){e.$thankYouMessageContainer.fadeIn(t)})}}]),t}(u["default"]);i["default"]=c},{"../Base/BaseModule":13}],24:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){var e=h.height(),t=m.height(),i=p.height(),n=(e-i)/2-25;w.height(t),p.css("margin-top",n+"px")}Object.defineProperty(i,"__esModule",{value:!0});var l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=(n(c),function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),t}(u["default"]));i["default"]=d;var f=$("#executive-bio-details-small-container"),p=$("#executive-bio-details-small-info-container"),h=p.closest(".row.executive-bio-details__header"),m=f.find(".executive-bio-details__photo"),w=$("#executive-bio-details-small-container").find(".executive-bio-details__info");s(),$(window).on("load",function(){s(),p.show()}),$(window).on("resize",function(){s()})},{"../../Utils.js":5,"../Base/BaseModule":13}],25:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=e("../../Logger.js"),p=(n(f),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._swiperElement=$(i.element).find(".swiper-container")[0],i._slides=$(i.element).find(".swiper-slide").length,i.initSwiper(d["default"].calculatePageSize()),$(i.element).find(".btn--facebook").on("click",function(){var e=$(this).data("asset-link"),t=$(this).data("movie-name"),i=$(this).data("movie-id");FB.ui({method:"share",href:e},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"image",movieName:t,movieId:i})})}),$(i.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){var t=d["default"].getQueryParam("asset_id"),i=0;t!==!1&&(i=$(this.element).find('.swiper-slide[data-asset-id="'+t+'"]').index());var n={loop:!0,initialSlide:i,navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination"),renderBullet:function(e){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0};this._swiper&&this._swiper.destroy(!0,!0),this._slides>1?this._swiper=new Swiper(this._swiperElement,n):$(this.element).find(".swiper-lazy").Lazy({effect:"fadeIn"})}}]),t}(u["default"]));i["default"]=p},{"../../Logger.js":1,"../../Utils.js":5,"../Base/BaseModule":13}],26:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._swiperElement=$(i.element).find(".swiper-container")[0],i._slides=$(i.element).find(".swiper-slide").length,i.initSwiper(d["default"].calculatePageSize()),$(i.element).find(".btn--facebook").on("click",function(){var e=$(this).data("asset-link"),t=$(this).data("movie-name"),i=$(this).data("movie-id");FB.ui({method:"share",href:e},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"poster",movieName:t,movieId:i})})}),$(i.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){var t={loop:!0,pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination"),renderBullet:function(e){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},init:!1,slidesPerView:2,centeredSlides:!0,preloadImages:!1,lazy:{loadPrevNext:!0},watchSlidesVisibility:!0,watchSlidesProgress:!0,on:{}};if(this._slides>1){switch(e){case"xxlarge":case"xlarge":case"large":t.slidesPerView=4,this._slides>4&&(t.navigation={nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")}),t.centeredSlides=!1;break;case"medium":t.slidesPerView=2,this._slides>2&&(t.navigation={nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")}),t.centeredSlides=!1;break;case"small":t.slidesPerView=1.5,t.navigation={nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},t.centeredSlides=!0,t.on.slideChange=this.onSlideChangeEnd.bind(this),t.pagination={}}this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0),"small"===e||"medium"!==e&&this._slides>4||"medium"===e&&this._slides>2?(this._swiper=new Swiper(this._swiperElement,t),this._swiper.init()):$(this.element).find(".swiper-lazy").Lazy({effect:"fadeIn"})}else if(this._swiper&&this._swiper.destroy(!0,!0),this._swiper=void 0,1===this._slides){var i=$(this.element).find(".poster__img img");i&&i.attr("data-src")&&i.attr("src",i.attr("data-src"))}}},{key:"onSlideChangeEnd",value:function(){var e=void 0;e=0===this._swiper.activeIndex?this._slides:this._swiper.activeIndex===this._slides+1?1:this._swiper.activeIndex,$(this.element).find(".swiper-pagination").text(e+" of "+this._slides)}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],27:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i.removeLastCardRowModuleSpace(),i}return a(t,e),s(t,[{key:"removeLastCardRowModuleSpace",value:function(){var e=$(".card-row-modules"),t=e.find("section[data-module]").last();1===t.length&&t.hasClass("grouped-list-row")&&e.css("margin-bottom",0)}}]),t}(u["default"]);i["default"]=c},{"../Base/BaseModule":13}],28:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));$(".main-content").addClass("has-trailer"),$("#tickets").length>0&&i.initTicketModule(),$("#trailer").find(".btn--facebook").on("click",function(e){e.preventDefault();var t="https://www.youtube.com/watch?v="+$("#trailer").data("trailer-id"),n=$(i).data("movie-name"),o=$(i).data("movie-id");FB.ui({method:"share",href:t},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:n,movieId:o})})}),$("#trailer").find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://www.youtube.com/watch?v="+$("#trailer").data("trailer-id"),i="https://twitter.com/intent/tweet?text="+e+" "+t;window.open(i,"","width=500, height=255")}),$("#movie-poster").find(".btn--facebook").on("click",function(){var e=$(this).data("asset-link"),t=$(this).data("movie-name"),i=$(this).data("movie-id");FB.ui({method:"share",href:e},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"image",movieName:t,movieId:i})})}),$("#movie-poster").find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")});var n=$(i.element).find(".yt-player");return d["default"].createYoutubePlayer(n[0],{height:"100%",width:"100%",videoId:n.data("video-id"),playerVars:{controls:1,rel:0,modestbranding:1},events:{onReady:function(){},onError:function(e){}}}).then(function(e){i._player=e}),i}return a(t,e),s(t,[{key:"initTicketModule",value:function(){var e=this,t=$("#datepicker");if(!t)return void console.warn("Could not find datepicker element when initializing ticket module");var i=t[0],n=i.value,o=DOMPurify.sanitize(n),r=moment(o).format("YYYY-MM-DDTHH:mm:ss.sssZ"),a=moment().format("YYYY-MM-DDTHH:mm:ss.sssZ"),s=void 0;s=moment(a)<moment(r)?r:a;new Pikaday({field:$("#datepicker")[0],format:"M-D-YYYY",minDate:moment(s).toDate(),position:"bottom right",onOpen:function(){$(".calendar").addClass("focus")},onClose:function(){$(".calendar").removeClass("focus")}});$(".btn--tickets").on("click",function(t){t.preventDefault();var i=$(t.currentTarget).attr("href"),n=DOMPurify.sanitize(i),o=$("#ticket-location").val()?$("#ticket-location").val():null,r=DOMPurify.sanitize(o),a=$("#datepicker").val()?DOMPurify.sanitize($("#datepicker").val()):new moment;e.initTicketLink(n,a,r)})}},{key:"initTicketLink",value:function(e,t,i){var n=void 0,o="",r=void 0,a=new RegExp("fandango");if(a.test(e)){var s=e.replace("/movieoverview","");s=s.replace("/movie-overview",""),s=s.replace("/movie-times",""),r=moment(t).format("YYYY-MM-DD"),null!=i&&(o="location="+i+"&");var l=s.split("?");n=l[0]+"/movietimes?"+o+"date="+r+(l.length>1?"&"+l[1]:"")}else r=-moment().diff(t,"days")+1,null!=i&&(o="SearchZip/"+i+"/SearchRadius/15/tstate/"),n=e+"/"+o+"ShowDate/"+r;window.open(n,"_blank")}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],29:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $(e).find(".lazy").Lazy(),i.initForms(),i.formFocus(),i}return a(t,e),s(t,[{key:"formFocus",value:function(){var e=$(this.element),t=e.find(".form--email"),i=e.find(".input__field");i.blur(function(){i.val()?t.addClass("has-value"):t.removeClass("has-value")}),$("#email-error")&&$("#email-error").appendTo(".form--email")}},{key:"initForms",value:function(){var e=$(this.element),t=e.find(".form--email"),i=e.find(".error");t.validate({rules:{email:{required:!0,email:!0}},messages:{email:"Please enter a valid email address."},invalidHandler:function(e,n){var o=n.numberOfInvalids();o>0?(t.find(".input__label").hide(),i.html(n.errorList[0]).removeClass("hide")):i.addClass("hide")},submitHandler:function(e){var n=this;if(n.isSigningUp!==!0){t.find(".input__label").hide(),t.addClass("active");var o=t.find(".input__field");n.isSigningUp=!0,$.ajax({type:"POST",url:"/email-list",data:{email:o.val()}}).done(function(e){"success"===e.status?(o.val(""),$(".promo-spot--sign-up").addClass("success"),i.html("").addClass("hide")):i.html("Could not sign up right now.").removeClass("hide").show()}).fail(function(){i.html("Could not sign up right now.").removeClass("hide").show()}).always(function(){t.find(".input__label").show(),t.removeClass("active"),n.isSigningUp=!1})}}})}}]),t}(u["default"]);i["default"]=c},{"../Base/BaseModule":13}],30:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),n=$(i.element).data("movie-title"),a=$(i.element).data("movie-slug"),s=$(i.element).data("calendar-date"),l={title:"Watch "+n+" TODAY!",start:s+", 2020 00:00",end:s+", 2020 23:59",location:"",description:"Watch "+n+" "+s+"! More info: https://universalpictures.com/movies/"+a},u=new Add2Calendar(l);u.setOption({buttonText:"Set Reminder"});var c=document.querySelectorAll(".reminder-button");c.forEach(function(e){u.createWidget("#"+e.id)}),$(i.element).on("touchstart",function(e){var t=document.querySelectorAll(".active");t.forEach(function(e){e.classList.remove("active")})});var d=document.querySelectorAll(".ondemand");return d.forEach(function(e){$(e).on("click",function(e){e.preventDefault(),"a"===e.target.localName?window.open(e.target.href,"_blank"):e.target.parentElement.href&&window.open(e.target.parentElement.href,"_blank"),e.currentTarget.style.zIndex="1";var t=e.currentTarget.children[0].children[0];t.classList.add("active");var i=e.currentTarget.children[1];i&&i.classList.add("active")}),$(e).on("touchstart",function(e){e.preventDefault(),e.stopPropagation(),e.currentTarget.style.zIndex="1";var t=e.currentTarget.children[0].children[0];t.classList.add("active");var i=e.currentTarget.children[1];i.classList.add("active")}),$(e).on("mouseleave",function(e){e.currentTarget.style.zIndex="0";var t=e.currentTarget.children[0].children[0];t.classList.remove("active");var i=e.currentTarget.children[1];i&&i.classList.remove("active")})}),$("#trailer").find(".btn--facebook").on("click",function(e){e.preventDefault();var t="https://www.youtube.com/watch?v="+$("#trailer").data("trailer-id"),n=$(i).data("movie-name"),o=$(i).data("movie-id");FB.ui({method:"share",href:t},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:n,movieId:o})})}),$("#trailer").find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://www.youtube.com/watch?v="+$("#trailer").data("trailer-id"),i="https://twitter.com/intent/tweet?text="+e+" "+t;window.open(i,"","width=500, height=255")}),i}return a(t,e),t}(l["default"]);i["default"]=u},{"../Base/BaseModule":13}],31:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),t}(l["default"]);i["default"]=u},{"../Base/BaseModule":13}],32:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return console.log("Movie Ticketing Module inited..."),i}return a(t,e),t}(l["default"]);i["default"]=u},{"../Base/BaseModule":13}],33:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $(i.element).find(".btn--facebook").on("click",function(){var e=$(this).data("share-link"),t=$(this).data("article-title");FB.ui({method:"share",href:e},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"news",title:t})})}),$(i.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),i}return a(t,e),t}(l["default"]);i["default"]=u},{"../Base/BaseModule":13}],34:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $(i.element).find(".btn--facebook").on("click",function(){var e=$(this).data("share-link"),t=$(this).data("article-title");FB.ui({method:"share",href:e},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"news",title:t})})}),$(i.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),$(i.element).find(".more-btn").find("button").on("click",function(){i.loadMoreNews()}),i}return a(t,e),s(t,[{key:"loadMoreNews",value:function(){var e=$(this.element).find(".more-btn").find("button"),t=$(e).data("next"),i=5;$.ajax({url:"/news/more?num="+i+"&offset="+t,type:"GET",success:function(n){var o=DOMPurify.sanitize(n);$(".news-column-primary__posts").append(o),$(e).data("next",t+i);var r=$(o).filter("article").length;r<i&&$(e).css({opacity:0,cursor:"inherit"})},error:function(){$(e).css({opacity:0,cursor:"inherit"})}})}}]),t}(u["default"]);i["default"]=c},{"../Base/BaseModule":13}],35:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=e("../../Logger.js"),p=(n(f),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._swiper=null,i._swiperElement=$(i.element).find(".swiper-container"),i._slides=$(i.element).find(".swiper-slide").length,i.initSwiper(d["default"].calculatePageSize()),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){var t={init:!1,loop:!0,slidesPerView:1.2,centeredSlides:!0,pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination"),renderBullet:function(e){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},on:{},preloadImages:!1,lazy:{loadPrevNext:!0,elementClass:"lazy"},watchSlidesVisibility:!0,watchSlidesProgress:!0};if("medium"===e||"small"===e){switch(e){case"medium":t.slidesPerView=2,t.centeredSlides=!1;break;case"small":t.slidesPerView=1.5,t.centeredSlides=!0,t.on.slideChange=this.onSlideChangeEnd.bind(this),t.pagination={}}this._swiper&&this._swiper.destroy(!0,!0),this._swiper=new Swiper(this._swiperElement,t),this._swiper.init()}else{this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0);var i=$(this.element).find(".lazy");i.length&&i.Lazy({enableThrottle:!1})}}},{key:"onSlideChangeEnd",value:function(){var e=void 0;e=0===this._swiper.activeIndex?this._slides:this._swiper.activeIndex===this._slides+1?1:this._swiper.activeIndex,$(this.element).find(".swiper-pagination").text(e+" of "+this._slides)}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(u["default"]));i["default"]=p},{"../../Logger.js":1,"../../Utils.js":5,"../Base/BaseModule":13}],36:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=function(e){function t(e){return o(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),t}(l["default"]);i["default"]=u},{"../Base/BaseModule":13}],37:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=e("../Base/BaseModule"),u=n(l),c=e("../../Utils.js"),d=n(c),f=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return i._$swiperElement=$(i.element).find(".swiper-container"),i._swiperElement=i._$swiperElement[0],i._slides=i._$swiperElement.find(".swiper-slide").length,i.initSwiper(d["default"].calculatePageSize()),$(i.element).find(".btn--facebook").on("click",function(){var e=encodeURIComponent($(".swiper-slide-active").data("asset-link")),t=$(this).data("movie-name"),i=$(this).data("movie-id");FB.ui({method:"share",href:e},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"poster",movieName:t,movieId:i})})}),$(i.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(".swiper-slide-active").data("twitter-text")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),i}return a(t,e),s(t,[{key:"initSwiper",value:function(e){var t=this,i=d["default"].getQueryParam("asset_id"),n=0;i!==!1&&(n=$(this.element).find('.swiper-slide[data-asset-id="'+i+'"]').index());var o={loop:!0,initialSlide:n,centeredSlides:!0,pagination:{clickable:!0,el:$(this.element).find(".swiper-pagination"),renderBullet:function(e){return'<span class="swiper-pagination-bullet"><svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 16 16"preserveAspectRatio="none"><circle cx="8" cy="8" r="6.215"/></svg></span>'}},navigation:{nextEl:$(this.element).find(".swiper-button-next"),prevEl:$(this.element).find(".swiper-button-prev")},on:{slideChangeTransitionEnd:function(){if(!t._swiper)return void console.warn("No share poster module Swiper");var e=$(t._swiper.slides[t._swiper.activeIndex]).find("img").attr("src"),i=DOMPurify.sanitize(e);$(t.element).find(".btn--download").attr("href",i+"?download")}}};if(this._slides>1){switch(e){case"small":o.spaceBetween=30,o.slidesPerView=1.5}this._swiper&&this._swiper.destroy(!0,!0),this._swiper=new Swiper(this._swiperElement,o),this._swiper.init()}else this._swiper&&(this._swiper.destroy(!0,!0),this._swiper=void 0)}},{key:"resize",value:function(e){this.initSwiper(e)}}]),t}(u["default"]);i["default"]=f},{"../../Utils.js":5,"../Base/BaseModule":13}],38:[function(e,t,i){"use strict"},{}],39:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=e("../../Logger.js"),c=n(u),d=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return c["default"].log("This is a TestModule!"),i}return a(t,e),t}(l["default"]);i["default"]=d},{"../../Logger.js":1,"../Base/BaseModule":13}],40:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}(),l=function h(e,t,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var o=Object.getPrototypeOf(e);return null===o?void 0:h(o,t,i)}if("value"in n)return n.value;var r=n.get;if(void 0!==r)return r.call(i)},u=e("../Base/BaseModule"),c=n(u),d=e("../../Utils.js"),f=n(d),p=function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return f["default"].createYoutubePlayer($(i.element).find(".yt-player")[0],{height:"100%",width:"100%",playerVars:{autoplay:1,controls:1,rel:0,modestbranding:1},events:{}}).then(function(e){i._player=e,$(i.element).find("button[data-video-id]").on("click",function(e){e.preventDefault();var t=$(e.target).closest("button").data("video-id"),n=$(e.target).closest("button").data("video-title"),o=$(e.target).offset(),r=o.top-$(window).scrollTop(),a=o.left;i.openVideoModal(t,r,a,n)})}),$(document).ready(function(){var e=document.querySelector('a[href="http://www.universalpictures.ca/#/en/home"]');e&&e.setAttribute("href","https://WatchTrolls.ca")}),i}return a(t,e),s(t,[{key:"resizeModal",value:function(){var e=1.77777777777778,t=$(window).width()/$(window).height();e>t?$(this.element).find(".modal__video").css({width:"80%","margin-left":"10%","margin-top":($(window).height()-.8*$(window).width()*.5625)/2}):$(this.element).find(".modal__video").css({width:1.4*$(window).height(),"margin-left":($(window).width()-1.4*$(window).height())/2,"margin-top":($(window).height()-1.4*$(window).height()*.5625)/2})}},{key:"openVideoModal",value:function(e,t,i,n){this._player.clearVideo(),this._player.loadVideoById(e,0,"default"),$("body").trigger("open-modal"),$(this.element).find(".btn--facebook, .btn--twitter").data("video-id",e).data("video-title",n),$(this.element).find(".btn--facebook").on("click",function(){FB.ui({method:"share",href:"https://www.youtube.com/embed/"+$(this).data("video-id")},function(e){e&&!e.error_message&&dataLayer.push({event:"facebook-share-button-click",eventCategory:"facebook-share",eventAction:"click",eventLabel:"share",contentType:"trailer",movieName:$(this).data("video-title"),movieId:$(this).data("video-id")})})}),$(this.element).find(".btn--twitter").on("click",function(){var e=encodeURIComponent($(this).data("video-title")+" https://youtu.be/"+$(this).data("video-id")),t="https://twitter.com/intent/tweet?text="+e;window.open(t,"","width=500, height=255")}),$(this.element).find(".modal__video").css({width:$(this.element).find("button").width(),"margin-left":i,"margin-top":t}),this.lastElTop=t,this.lastElLeft=i,this.openModal(),this.resizeModal(),$(window).bind("resize.videoModalResize",this.resizeModal.bind(this))}},{key:"closeModal",value:function(){this._player.stopVideo(),this._player.clearVideo(),$(window).unbind("resize.videoModalResize"),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"closeModal",this).call(this)}}]),t}(c["default"]);i["default"]=p},{"../../Utils.js":5,"../Base/BaseModule":13}],41:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(i,"__esModule",{value:!0});var s=e("../Base/BaseModule"),l=n(s),u=e("../../Utils.js"),c=(n(u),function(e){function t(e){o(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return $(document).ready(function(){$(".hamburger").click(function(){$(this).toggleClass("is-active"),$(".custom-nav").toggleClass("unlock"),$(".nav-list-mobile").toggleClass("open"),$("body").toggleClass("no-scroll")}),$(".mobile-nav-link").click(function(){$(".hamburger").toggleClass("is-active"),$(".custom-nav").toggleClass("unlock"),$(".nav-list-mobile").toggleClass("open"),$("body").toggleClass("no-scroll")})}),i}return a(t,e),t}(l["default"]));i["default"]=c},{"../../Utils.js":5,"../Base/BaseModule":13}],42:[function(e,t,i){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var o=e("./Page"),r=n(o);console.trace||(console.trace=console.log);new r["default"]},{"./Page":3}]},{},[42]);